<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                xmlns:ez="http://xmlns.jcp.org/jsf/composite/ezcomp"
                template="./../template/defaultTemplate.xhtml">

    <ui:define name="content">
        <!--        <ez:Breadcrumb pageName="mySubscriptionOrders" />-->

        <ez:Breadcrumb pageName="viewSubscriptionOrder" />
        <p:growl >
            <p:autoUpdate />
        </p:growl>



        <main class="card">


            <h1 class="h1title">Meal Kits</h1>


            <ui:repeat value="#{subscriptionOrderViewManagedBean.orders}" var="order">

                <p:panel style="width: 50%" header="#{subscriptionOrderViewManagedBean.getWeek(order.dateOfOrder)}" >
                    <h:outputText value="STATUS: #{order.status}" 
                                  style="float: right; text-align: right;
                                  font-style: italic"/>
                    <h:outputText value="Initially ordered on: #{order.dateOfOrder}"/>
                    <br/>
                    <h:outputText value="Additional notes: #{order.additionalNotes}"/>
                    <br/>    <br/>   






                    <p:panel style="" header="Meal kits in this order">
                        <ui:repeat value="#{order.orderLineItems}" var="orderLineItem">

                            <h:panelGrid style="width:100%;" >

                                <span>

                                    <h:outputText value="#{orderLineItem.recipe.recipeTitle} x #{orderLineItem.quantity}" 
                                                  /></span>



                            </h:panelGrid>

                        </ui:repeat> 


                    </p:panel>
                    <br/>
                    <p:commandButton style="" icon="pi pi-check" value="Received order"/>

                </p:panel>
                <br/> 


            </ui:repeat>                                                              



        </main>



    </ui:define>

</ui:composition>
